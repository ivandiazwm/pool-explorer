(this["webpackJsonppool-explorer"]=this["webpackJsonppool-explorer"]||[]).push([[0],{155:function(e,t,n){},161:function(e,t){},171:function(e,t,n){},175:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),i=n(38),r=n.n(i),d=(n(154),n(155),n(57)),o=n(179),p=n(58),y=n(88),l=n(195),c=n(193),u=[{name:"Production",contractAddress:"0x30dB6Af76Ff4A9A30d7f927eFab235a7ea600e22"},{name:"Development",contractAddress:"0xBD7F842Cb96dFF147d6b9b4c9f8e56acF76A969B"}],b=n(86),m=function(){return Object(b.b)()},f=b.c,j=n(87),x=n(3),g=n.n(x),h=n(72),T=n(75),v=n(4),O=n(5),A=n(123),_=[{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"agentId",type:"bytes32"},{indexed:!1,internalType:"string",name:"ref",type:"string"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"AgentAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"agentId",type:"bytes32"},{indexed:!1,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"AgentAdminAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"agentId",type:"bytes32"},{indexed:!1,internalType:"address",name:"admin",type:"address"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"AgentAdminRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"agentId",type:"bytes32"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"AgentRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"agentId",type:"bytes32"},{indexed:!1,internalType:"string",name:"ref",type:"string"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"AgentUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"address",name:"by",type:"address"}],name:"PoolAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"PoolAdminAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"PoolAdminRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"poolId",type:"bytes32"},{indexed:!1,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"}],name:"PoolOwnershipTransfered",type:"event"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"},{internalType:"string",name:"_ref",type:"string"}],name:"addAgent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"},{internalType:"address",name:"_admin",type:"address"}],name:"addAgentAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"}],name:"addPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"address",name:"admin",type:"address"}],name:"addPoolAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"agentAdminAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"}],name:"agentAdminLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"agentAt",outputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"}],name:"agentExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"}],name:"agentLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"}],name:"agentRef",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract MinimalForwarderUpgradeable",name:"forwarder",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"forwarder",type:"address"}],name:"isTrustedForwarder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"uint256",name:"index",type:"uint256"}],name:"poolAdminAt",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"}],name:"poolAdminLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"poolExistsMap",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"poolOwners",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"poolVersion",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"}],name:"removeAgent",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"},{internalType:"address",name:"_admin",type:"address"}],name:"removeAgentAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"address",name:"admin",type:"address"}],name:"removePoolAdmin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"address",name:"_to",type:"address"}],name:"transferPoolOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"_poolId",type:"bytes32"},{internalType:"bytes32",name:"_agentId",type:"bytes32"},{internalType:"string",name:"_ref",type:"string"}],name:"updateAgent",outputs:[],stateMutability:"nonpayable",type:"function"}],I=new A.a.providers.JsonRpcProvider("https://goerli.infura.io/v3/a4ba4d26c1a145999d11d2630ac5eb3c"),w=function(){function e(t){Object(v.a)(this,e),this.contract=void 0,this.contract=new A.a.Contract(t,_,I)}return Object(O.a)(e,[{key:"getAgentsLength",value:function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.agentLength(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAgentAt",value:function(){var e=Object(h.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.agentAt(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),M={environment:u[0],pool:{loading:!1,id:"0x9d3d1df113ae5f4ff7fb542439229d50a384f4c2162c4fe4e298beefc872ddf2",name:"agent-devnet"},agents:[{loading:!1,id:"0x1bccd1c56bdc239ee16547d38360d9b7629fa6d0aecdeaa76e0e19c1a0ae9704",name:"agent1",version:"0.0.2",fromAddress:"0x5d8543faa52157de5eaeeb4b209ef09dbd47cad3",date:"Mon, 26 Jul 2021"}]},C=Object(T.b)("app/loadAgent",function(){var e=Object(h.a)(g.a.mark((function e(t,n){var a,s,i,r,d,o,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.poolId,s=t.index,i=n.getState(),r=new w(i.app.environment.contractAddress),e.next=5,r.getAgentAt(a,s);case 5:return d=e.sent,e.next=8,fetch("https://ipfs.infura.io/ipfs/".concat(d[1])).then((function(e){if(!e.ok)throw new Error("HTTP error "+e.status);return e.json()}));case 8:return o=e.sent,p=o.manifest,e.abrupt("return",{id:d[0],name:p.agentId,reference:d[1],from:p.from,version:p.version,date:p.timestamp,poolId:a,index:s});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),P=Object(T.b)("app/loadPool",function(){var e=Object(h.a)(g.a.mark((function e(t,n){var a,s,i,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState(),s=new w(a.app.environment.contractAddress),e.next=4,s.getAgentsLength(t);case 4:for(i=e.sent.toNumber(),r=0;r<i;r++)n.dispatch(C({poolId:t,index:r}));return e.abrupt("return",{poolId:t,agentsLength:i});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=Object(T.c)({name:"app",initialState:M,reducers:{setEnvironment:function(e,t){e.environment=t.payload,e.pool=null,e.agents=[]}},extraReducers:function(e){e.addCase(P.pending,(function(e){e.pool.loading=!0})).addCase(P.fulfilled,(function(e,t){e.pool.loading=!1,e.pool.id=t.payload.poolId,e.agents=Object(j.a)(Array(t.payload.agentsLength)).map((function(e,t){return{loading:!0,id:"",name:"",version:"",fromAddress:"",date:""}}))})).addCase(C.fulfilled,(function(e,t){var n=t.payload;e.agents[n.index]={loading:!1,id:n.id,name:n.name,version:n.version,fromAddress:n.from,date:n.date}}))}}),N=k.actions.setEnvironment,S=k.reducer,E=(n(171),n(9));function F(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(""),r=Object(d.a)(i,2),b=r[0],j=r[1],x=f((function(e){return console.log(e),e.app.environment})),g=m(),h=function(e){return"Production"===e.name?"red":"purple"},T=Object(E.jsxs)(o.a,{as:"div",labelPosition:"right",children:[Object(E.jsxs)(o.a,{color:h(x),children:[Object(E.jsx)(p.a,{name:"fork"}),x.name]}),Object(E.jsx)(y.a,{as:"a",basic:!0,color:h(x),pointing:"left",children:"".concat(x.contractAddress.slice(0,6),"...").concat(x.contractAddress.slice(-4))})]});return Object(E.jsxs)(l.a,{className:"EnvironmentModal",onClose:function(){return s(!1)},onOpen:function(){s(!0),j("")},open:n,trigger:T,children:[Object(E.jsx)(l.a.Header,{children:"Select an environment in Goerli"}),Object(E.jsxs)(l.a.Content,{children:[u.map((function(e){return Object(E.jsx)("div",{className:"EnvironmentModal__item",children:Object(E.jsxs)(o.a,{as:"div",labelPosition:"right",onClick:function(){s(!1),g(N(e))},children:[Object(E.jsxs)(o.a,{color:h(e),children:[Object(E.jsx)(p.a,{name:"fork"}),e.name]}),Object(E.jsx)(y.a,{as:"div",basic:!0,color:h(e),pointing:"left",children:e.contractAddress})]})},"env-btn-".concat(e.name))})),Object(E.jsx)("div",{className:"EnvironmentModal__item",children:Object(E.jsx)(c.a,{className:"EnvironmentModal__input",onChange:function(e){return j(e.target.value)},label:Object(E.jsxs)(o.a,{color:"blue",onClick:function(){s(!1),g(N({name:"Custom",contractAddress:b}))},children:[Object(E.jsx)(p.a,{name:"fork"}),"Set custom contract"]}),labelPosition:"right"})})]})]})}var L=function(){return Object(E.jsxs)("header",{className:"Topbar",children:[Object(E.jsx)("div",{className:"Topbar__title",children:"Pool explorer"}),Object(E.jsx)("div",{className:"Topbar__button-container",children:Object(E.jsx)(F,{})})]})},R=n(194);n(175);var H=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=(t[1],Object(a.useState)("")),i=Object(d.a)(s,2),r=i[0],o=i[1],p=Object(a.useState)([]),y=Object(d.a)(p,2),l=y[0],c=(y[1],m()),u=f((function(e){return e}));return console.log("state",u),Object(E.jsx)("div",{className:"PoolSearcher",children:Object(E.jsx)(R.a,{className:"PoolSearcher__input",placeholder:"Enter pool id...",size:"huge",loading:n,onResultSelect:function(){console.log("wea")},onSearchChange:function(e,t){var n=t.value;o(n)},onBlur:function(){console.log("calling"),c(P(r))},results:l,value:r})})},B=n(196),J=n(198);n(176);function D(){return Object(E.jsxs)(B.a.Row,{className:"Agent",children:[Object(E.jsxs)(B.a.Cell,{className:"Agent__name",children:["agent1",Object(E.jsx)("span",{children:" "}),Object(E.jsx)("a",{target:"_blank",href:"https://ipfs.infura.io/ipfs/Qmcaj6goBFfqU3vrWsowKTHmWRCTjP7wahsdb1YW6pV5Yb",children:"(0x1bccd1c56bdc239ee16547d38360d9b7629fa6d0aecdeaa76e0e19c1a0ae9704)"})]}),Object(E.jsx)(B.a.Cell,{children:Object(E.jsx)(y.a,{color:"violet",children:"0.0.2"})}),Object(E.jsx)(B.a.Cell,{children:Object(E.jsx)("a",{target:"_blank",href:"https://goerli.etherscan.io/address/0x5d8543faa52157de5eaeeb4b209ef09dbd47cad3",children:"0x5d8543faa52157de5eaeeb4b209ef09dbd47cad3"})}),Object(E.jsx)(B.a.Cell,{children:"Mon, 26 Jul 2021"})]})}var U=function(){return Object(E.jsxs)("div",{className:"Agents__container",children:[Object(E.jsxs)(J.a,{as:"h2",children:["Agents for",Object(E.jsx)("span",{className:"Agents__poolId",children:"0x9d3d1df113ae5f4ff7fb542439229d50a384f4c2162c4fe4e298beefc872ddf2 (agent-devnet)"})]}),Object(E.jsxs)(B.a,{striped:!0,children:[Object(E.jsxs)(B.a.Header,{children:[Object(E.jsx)(B.a.HeaderCell,{children:"AgentId"}),Object(E.jsx)(B.a.HeaderCell,{children:"Version"}),Object(E.jsx)(B.a.HeaderCell,{children:"From"}),Object(E.jsx)(B.a.HeaderCell,{children:"Date"})]}),Object(E.jsxs)(B.a.Body,{children:[Object(E.jsx)(D,{}),Object(E.jsx)(D,{}),Object(E.jsx)(D,{}),Object(E.jsx)(D,{})]})]}),Object(E.jsx)(o.a,{children:"Load more"})]})};n(177);var V=function(){return Object(E.jsxs)("div",{className:"App",children:[Object(E.jsx)(L,{}),Object(E.jsx)(H,{}),Object(E.jsx)(U,{})]})},W=Object(T.a)({reducer:{app:S}});r.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(b.a,{store:W,children:Object(E.jsx)(V,{})})}),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.266b5a03.chunk.js.map