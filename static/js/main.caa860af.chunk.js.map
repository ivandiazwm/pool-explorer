{"version":3,"sources":["config.ts","app/hooks.ts","lib/contractABI.js","lib/ContractInteractor.ts","slices/appSlice.ts","components/Topbar.tsx","components/PoolSearcher.tsx","components/Agents.tsx","App.tsx","app/store.ts","index.tsx"],"names":["environments","name","contractAddress","network","useAppDispatch","useDispatch","useAppSelector","useSelector","provider","ethers","providers","JsonRpcProvider","ContractInteractor","contract","this","Contract","contractABI","poolId","a","agentLength","index","agentAt","queryFilter","filters","PoolAdded","events","map","e","args","initialState","environment","suggestedPools","suggestedPoolsLoading","pool","loading","error","id","agents","loadPoolIds","createAsyncThunk","getPoolIds","loadAgent","thunkAPI","state","getState","app","getAgentAt","agent","fetch","then","response","ok","Error","status","json","manifest","agentId","reference","from","version","date","timestamp","loadPool","agentsLength","getAgentsLength","toNumber","dispatch","appSlice","createSlice","reducers","setEnvironment","action","payload","extraReducers","builder","addCase","pending","rejected","fulfilled","Array","_","fromAddress","actions","EnvironmentModal","useState","open","setOpen","setCustom","env","envColor","EnvironmentButton","Button","as","labelPosition","color","Icon","Label","basic","pointing","slice","Modal","className","onClose","onOpen","trigger","Header","Content","onClick","icon","href","target","Topbar","PoolSearcher","value","setValue","opened","setOpened","pools","useEffect","results","Loader","active","inline","filter","startsWith","data-loading","Search","size","fluid","placeholder","onSearchChange","onResultSelect","data","result","onBlur","onFocus","resultRenderer","Agent","Table","Row","Cell","colSpan","Agents","poolLoading","poolError","Message","negative","striped","HeaderCell","Body","App","store","configureStore","reducer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.caa860af.chunk.js","sourcesContent":["export const environments = [\n  {\n    name: 'Production',\n    contractAddress: '0x30dB6Af76Ff4A9A30d7f927eFab235a7ea600e22',\n  },\n  {\n    name: 'Development',\n    contractAddress: '0xBD7F842Cb96dFF147d6b9b4c9f8e56acF76A969B',\n  },\n];\n\nexport const network = {\n  ipfs: 'https://ipfs.infura.io/ipfs',\n  rpc: 'https://goerli.infura.io/v3/a4ba4d26c1a145999d11d2630ac5eb3c',\n  baseExplorerAPI: 'https://goerli.etherscan.io',\n}","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n","export default [\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"ref\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AgentAdded\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"admin\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AgentAdminAdded\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"admin\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AgentAdminRemoved\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AgentRemoved\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"string\",\n        \"name\": \"ref\",\n        \"type\": \"string\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"AgentUpdated\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"by\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PoolAdded\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"addr\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PoolAdminAdded\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"addr\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PoolAdminRemoved\",\n    \"type\": \"event\"\n  },\n  {\n    \"anonymous\": false,\n    \"inputs\": [\n      {\n        \"indexed\": false,\n        \"internalType\": \"bytes32\",\n        \"name\": \"poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"from\",\n        \"type\": \"address\"\n      },\n      {\n        \"indexed\": false,\n        \"internalType\": \"address\",\n        \"name\": \"to\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"PoolOwnershipTransfered\",\n    \"type\": \"event\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"string\",\n        \"name\": \"_ref\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"addAgent\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_admin\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"addAgentAdmin\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"addPool\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"admin\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"addPoolAdmin\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"agentAdminAt\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"agentAdminLength\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"agentAt\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"agentExists\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"agentLength\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"agentRef\",\n    \"outputs\": [\n      {\n        \"internalType\": \"string\",\n        \"name\": \"\",\n        \"type\": \"string\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"contract MinimalForwarderUpgradeable\",\n        \"name\": \"forwarder\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"initialize\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"forwarder\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"isTrustedForwarder\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"index\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"name\": \"poolAdminAt\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"poolAdminLength\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"poolExistsMap\",\n    \"outputs\": [\n      {\n        \"internalType\": \"bool\",\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"poolOwners\",\n    \"outputs\": [\n      {\n        \"internalType\": \"address\",\n        \"name\": \"\",\n        \"type\": \"address\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"poolVersion\",\n    \"outputs\": [\n      {\n        \"internalType\": \"uint256\",\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }\n    ],\n    \"stateMutability\": \"view\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      }\n    ],\n    \"name\": \"removeAgent\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_admin\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"removeAgentAdmin\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"admin\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"removePoolAdmin\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"address\",\n        \"name\": \"_to\",\n        \"type\": \"address\"\n      }\n    ],\n    \"name\": \"transferPoolOwnership\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  },\n  {\n    \"inputs\": [\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_poolId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"bytes32\",\n        \"name\": \"_agentId\",\n        \"type\": \"bytes32\"\n      },\n      {\n        \"internalType\": \"string\",\n        \"name\": \"_ref\",\n        \"type\": \"string\"\n      }\n    ],\n    \"name\": \"updateAgent\",\n    \"outputs\": [],\n    \"stateMutability\": \"nonpayable\",\n    \"type\": \"function\"\n  }\n]","import { ethers } from 'ethers';\nimport { network } from '../config';\nimport contractABI from './contractABI';\n\nconst provider = new ethers.providers.JsonRpcProvider(network.rpc);\n\nclass ContractInteractor {\n  private contract: ethers.Contract;\n\n  constructor(contractAddress: string) {\n    this.contract = new ethers.Contract(\n      contractAddress,\n      contractABI,\n      provider\n    );\n  }\n\n  async getAgentsLength(poolId) {\n    return await this.contract.agentLength(poolId)\n  }\n\n  async getAgentAt(poolId, index) {\n    return await this.contract.agentAt(poolId, index)\n  }\n\n  async getPoolIds() {\n    const events = await this.contract.queryFilter(\n      this.contract.filters.PoolAdded(),\n      5100000, // lower bound for contract creation\n    );\n    return events.map(e => e.args.poolId);\n  }\n}\n\nexport default ContractInteractor;","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RootState } from '../app/store';\nimport { environments, network } from '../config';\nimport ContractInteractor from '../lib/ContractInteractor';\n\ntype Environment = {\n  name: string;\n  contractAddress: string;\n};\n\nexport interface AppState {\n  environment: Environment,\n  suggestedPools: string[],\n  suggestedPoolsLoading: boolean,\n  pool: {\n    loading: boolean,\n    error: string | null | undefined,\n    id: string,\n    name: string\n  },\n  agents: {\n    loading: boolean,\n    id: string,\n    name: string,\n    reference: string,\n    version: string,\n    fromAddress: string,\n    date: string,\n  }[],\n}\n\nconst initialState: AppState = {\n  environment: environments[0],\n  suggestedPools: [],\n  suggestedPoolsLoading: false,\n  pool: {\n    loading: false,\n    error: null,\n    id: null,\n    name: null,\n  },\n  agents: []\n};\n\nexport const loadPoolIds = createAsyncThunk(\n  'app/loadPoolIds',\n  async (contractAddress: string) => {\n    const contract = new ContractInteractor(contractAddress);\n    return await contract.getPoolIds();\n  }\n);\n\nexport const loadAgent = createAsyncThunk(\n  'app/loadAgent',\n  async ({poolId, index}: {poolId: string, index: number}, thunkAPI) => {\n    // @ts-ignore\n    const state: RootState = thunkAPI.getState();\n    const contract = new ContractInteractor(state.app.environment.contractAddress);\n    const agent = await contract.getAgentAt(poolId, index);\n    const {manifest} = await fetch(`${network.ipfs}/${agent[1]}`)\n      .then(response => {\n        if (!response.ok) {\n            throw new Error(\"HTTP error \" + response.status);\n        }\n        return response.json();\n      });\n    return {\n      id: agent[0],\n      name: manifest.agentId,\n      reference: agent[1],\n      from: manifest.from,\n      version: manifest.version,\n      date: manifest.timestamp,\n      poolId,\n      index,\n    };\n  }\n);\n\nexport const loadPool = createAsyncThunk(\n  'app/loadPool',\n  async (poolId: string, thunkAPI) => {\n    if(!poolId) {\n      return {\n        poolId: null,\n        agentsLength: 0\n      };\n    }\n    // @ts-ignore\n    const state: RootState = thunkAPI.getState();\n    const contract = new ContractInteractor(state.app.environment.contractAddress);\n    const agentsLength = (await contract.getAgentsLength(poolId)).toNumber();\n    for(let index=0; index < agentsLength; index++) {\n      thunkAPI.dispatch(loadAgent({poolId, index}))\n    }\n    return {\n      poolId,\n      agentsLength\n    };\n  }\n);\n\nexport const appSlice = createSlice({\n  name: 'app',\n  initialState,\n  reducers: {\n    setEnvironment: (state, action: PayloadAction<Environment>) => {\n      state.environment = action.payload;\n      state.pool = {\n        loading: false,\n        error: null,\n        id: null,\n        name: null,\n      };\n      state.agents = [];\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadPool.pending, (state) => {\n        state.pool.loading = true;\n        state.pool.error = null;\n      })\n      .addCase(loadPool.rejected, (state, action) => {\n        state.pool.loading = false;\n        state.pool.error = 'Pool not found';\n      })\n      .addCase(loadPool.fulfilled, (state, action) => {\n        state.pool.loading = false;\n        state.pool.id = action.payload.poolId;\n        state.pool.error = null;\n        state.agents = [...Array(action.payload.agentsLength)].map((_, index) => {\n          return {\n            loading: true,\n            id: '',\n            name: '',\n            reference: '',\n            version: '',\n            fromAddress: '',\n            date: '',\n          };\n        });\n      })\n      .addCase(loadAgent.fulfilled, (state, { payload }) => {\n        state.agents[payload.index] = {\n          loading: false,\n          id: payload.id,\n          name: payload.name,\n          reference: payload.reference,\n          version: payload.version,\n          fromAddress: payload.from,\n          date: payload.date,\n        };\n      })\n      .addCase(loadPoolIds.pending, (state) => {\n        state.suggestedPoolsLoading = true;\n        state.suggestedPools = [];\n      })\n      .addCase(loadPoolIds.fulfilled, (state, { payload }) => {\n        state.suggestedPoolsLoading = false;\n        state.suggestedPools = payload;\n      })\n  },\n});\n\nexport const { setEnvironment } = appSlice.actions;\n\nexport default appSlice.reducer;\n","import React, { useState } from 'react';\nimport { Button, Icon, Label, Modal, Header, Input, LabelGroup } from 'semantic-ui-react';\n\nimport { environments, network } from '../config';\nimport { RootState } from '../app/store';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { setEnvironment } from '../slices/appSlice';\nimport './Topbar.css';\n\nfunction EnvironmentModal() {\n  const [open, setOpen] = useState(false);\n  const [custom, setCustom] = useState('');\n  const env = useAppSelector((state: RootState) => state.app.environment);\n  const dispatch = useAppDispatch();\n  const envColor = (env) => env.name === 'Production' ? 'red' : 'purple';\n\n  const EnvironmentButton = (\n    <Button as=\"div\" labelPosition='right'>\n      <Button color={envColor(env)}>\n        <Icon name=\"fork\" />\n        {env.name}\n      </Button>\n      <Label as=\"a\" basic color={envColor(env)} pointing=\"left\">\n        {`${env.contractAddress.slice(0,6)}...${env.contractAddress.slice(-4)}`}\n      </Label>\n    </Button>\n  );\n\n  return (\n    <Modal\n      className=\"EnvironmentModal\"\n      onClose={() => setOpen(false)}\n      onOpen={() => {setOpen(true); setCustom('');}}\n      open={open}\n      trigger={EnvironmentButton}\n    >\n      <Modal.Header>Select an environment in Goerli</Modal.Header>\n      <Modal.Content>\n        {environments.map(environment => (\n          <div className=\"EnvironmentModal__item\" key={`env-btn-${environment.name}`}>\n            <Button as=\"div\" labelPosition=\"right\" onClick={() => {\n              setOpen(false);\n              dispatch(setEnvironment(environment));\n            }}>\n              <Button color={envColor(environment)}>\n                <Icon name=\"fork\" />\n                {environment.name}\n              </Button>\n              <Label as=\"div\" basic color={envColor(environment)} pointing=\"left\">\n                {environment.contractAddress}\n              </Label>\n            </Button>\n            <Button\n                icon=\"file\"\n                as=\"a\"\n                href={`${network.baseExplorerAPI}/address/${environment.contractAddress}`}\n                target=\"_blank\" />\n          </div>\n        ))}\n      </Modal.Content>\n    </Modal>\n  )\n}\n\nfunction Topbar() {\n  return (\n    <header className=\"Topbar\">\n      <div className=\"Topbar__title\">Pool explorer</div>\n      <div className=\"Topbar__button-container\">\n        <EnvironmentModal />\n      </div>\n    </header>\n  )\n}\n\nexport default Topbar;","import React, { useEffect, useState } from 'react';\nimport { Button, Icon, Input, Label, Loader, Search } from 'semantic-ui-react';\nimport { useAppDispatch, useAppSelector } from '../app/hooks';\nimport { loadPool, loadPoolIds } from '../slices/appSlice';\nimport './PoolSearcher.css';\n\nfunction PoolSearcher() {\n  const dispatch = useAppDispatch();\n  const [value, setValue] = useState('');\n  const [opened, setOpened] = useState(false);\n  const pools = useAppSelector(state => state.app.suggestedPools);\n  const loading = useAppSelector(state => state.app.suggestedPoolsLoading);\n  const contractAddress = useAppSelector(state => state.app.environment.contractAddress);\n\n  useEffect(function () {\n    dispatch(loadPoolIds(contractAddress));\n  }, [contractAddress]);\n\n  let results = !loading ?\n    pools.filter(pool => pool.startsWith(value)).map(pool => ({value: pool})) :\n    [{value: <div>Loading pools... <Loader active inline /></div>}];\n\n  return (\n    <div className=\"PoolSearcher\" data-loading={loading}>\n      <Search\n        className=\"PoolSearcher__input\"\n        size=\"huge\"\n        fluid\n        loading={loading}\n        placeholder=\"Enter pool id...\"\n        onSearchChange={(_, {value}) => setValue(value)}\n        onResultSelect={(e, data) => {\n          dispatch(loadPool(data.result.value));\n          setOpened(false)\n        }}\n        onBlur={() => setOpened(false)}\n        onFocus={() => setOpened(true)}\n        open={opened}\n        resultRenderer={({ value }) => <div key={value}>{value}</div>}\n        results={results}\n        value={value} />\n    </div>\n  );\n}\n\nexport default PoolSearcher;","import React from 'react';\nimport { Label, Header, Table, Loader, Message } from 'semantic-ui-react';\nimport { useAppSelector } from '../app/hooks';\nimport './Agents.css';\n\nfunction Agent({loading, id, name, reference, version, fromAddress, date}) {\n  if (loading) {\n    return (\n      <Table.Row>\n        <Table.Cell colSpan=\"4\">\n          <Loader active inline />\n        </Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  return (\n    <Table.Row className=\"Agent\">\n      <Table.Cell className=\"Agent__name\">\n        {name}<span> </span>\n        <a\n          target=\"_blank\"\n          href={`https://ipfs.infura.io/ipfs/${reference}`}>\n        ({id})\n        </a>\n      </Table.Cell>\n      <Table.Cell><Label color=\"violet\">{version}</Label></Table.Cell>\n      <Table.Cell>\n        <a\n          target=\"_blank\"\n          href={`https://goerli.etherscan.io/address/${fromAddress}`}>\n        {fromAddress}\n        </a>\n      </Table.Cell>\n      <Table.Cell>{date}</Table.Cell>\n    </Table.Row>\n  );\n}\n\nfunction Agents() {\n  const poolId = useAppSelector(state => state.app.pool.id);\n  const poolLoading = useAppSelector(state => state.app.pool.loading);\n  const poolError = useAppSelector(state => state.app.pool.error);\n  const agents = useAppSelector(state => state.app.agents);\n\n  if(poolError) {\n    return (\n      <div className=\"Agents__container\">\n        <Message negative>\n          {poolError}\n        </Message>\n      </div>\n    );\n  }\n\n  if (poolLoading) {\n    return (\n      <div className=\"Agents__container\">\n        <Loader active inline />\n      </div>\n    );\n  }\n\n  if (!poolId) {\n    return null;\n  }\n\n  return (\n    <div className=\"Agents__container\">\n      <Header as=\"h2\">\n        Agents for\n        <span className=\"Agents__poolId\">\n          {poolId}\n        </span>\n      </Header>\n      <Table striped>\n        <Table.Header>\n          <Table.HeaderCell>AgentId</Table.HeaderCell>\n          <Table.HeaderCell>Version</Table.HeaderCell>\n          <Table.HeaderCell>From</Table.HeaderCell>\n          <Table.HeaderCell>Date</Table.HeaderCell>\n        </Table.Header>\n        <Table.Body>\n          {agents.map((agent, index) => <Agent key={`${index}-${agent.id}`} {...agent}/>)}\n        </Table.Body>\n      </Table>\n    </div>\n  );\n}\n\nexport default Agents;","import React from 'react';\nimport Topbar from './components/Topbar';\nimport PoolSearcher from './components/PoolSearcher';\nimport Agents from './components/Agents';\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Topbar />\n      <PoolSearcher />\n      <Agents />\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\nimport appSlice from '../slices/appSlice';\n\nexport const store = configureStore({\n  reducer: {\n    app: appSlice,\n  },\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<\n  ReturnType,\n  RootState,\n  unknown,\n  Action<string>\n>;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css'\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}